Nhà vua vui lòng gả công chúa cho Thạch Sanh. Lễ cưới của họ tưng bừng nhất kinh kỳ, chưa bao giờ vui đến như thế. Thấy vậy, bọn hoàng tử các nước chư hầu trước kia bị công chúa từ hôn lấy làm tức giận. Họ hội họp binh lính cả mười tám nước lại, sang hỏi tội vua tại sao lại đem con gái cành vàng lá ngọc gả cho một đứa khố rách. Nhưng khi nghe tiếng đàn thần thánh thót của Thạch Sanh, tự nhiên quân sĩ của mười tám nước không còn ý chí đánh trận nữa. Cuối cùng bọn hoàng tử đều nhất tề cuốn giáp. Thạch Sanh sai dọn cơm cho họ ăn. Cả mấy vạn quân sĩ thấy niêu cơm quá nhỏ, ai nấy bĩu môi không buồn cầm đũa. Biết ý, chàng đố họ ăn hết được niêu cơm sẽ trọng thưởng. Quả nhiên chúng ra sức ăn mãi, ăn mãi nhưng ăn hết bao nhiêu cơm lại đầy bấy nhiêu. Sau khi ăn no họ rập đầu lạy tạ và kéo nhau về nước. Về sau vua không có con trai nên nhường ngôi cho Thạch Sanh. 